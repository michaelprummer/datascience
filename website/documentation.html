<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>TrendingMap</title>

  <!-- Bootstrap core CSS -->
  <link href="dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
        <a class="navbar-brand" href="index.html">
            <img src="Logo.png" alt="TrendingMap"/>
        </a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="demo.html">Demo</a></li>
        <li class="active"><a href="documentation.html">Documentation</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- Begin page content -->
<div class="container">
  <div class="page-header">
      <h1>Documentation</h1>
  </div>

  <div class="section-doc">
    <h2 id="#idea">Idea</h2>
    <p>Twitter massages (Tweets) can be used to find geographically related information, various trending topics of interest and distribution of opinions.
      Analyzing the data of a specific region within a given sliding window and location can help to find currently important events or detect crisis.
      Goal of this project is the creation of a tool which is able to show the most important topics for a location. Thus after selecting a day and country,
      the application will show the top three trending topics for the chosen day.</p>
  </div>

  <div class="section-doc">
    <h2>Corpus</h2>
    <p>The initial corpus of 750GB was a data set provided by the "Database Systems Group" of the LMU. The crawled tweets were all form the year 2015 and saved as raw json.
      Overall were 10 days missing in the corpus while the file size of a day was constantly decreasing from January.</p>

    <h3>Data Preprocessing</h3>
    <p>As first step we filtered out all tweets without geo-coordinates, which reduced the file size we hand to handle drastically. All Tweets with less then 5 tokens
      were removed, while user references and URLs didn't count. The #Hashtag itself was counted and added as a token. To improve the clustering results
      we only used Tweets labeled as english language. Further the city and country of a Tweet were recalculated through reverse geocoding to get uniform locations.
      The finally saved data record looked this:
    </p>
    <pre><code class="highlight language-markup">
      TwitterId   |   UserId  |   longitude, latitude   |   TweetText   |   CountryCode   |   CityId
    </code></pre>
    <br>
    <br>
    <p>We also removed the following:</p>
    <ul>
      <li>Removing of all Re-Tweets</li>
      <li>Tweets from weather forecast bots.</li>
      <li>Duplicates by using the Jaccard algorithm (~6.8M ).
      <pre><code class="highlight language-python">
      def jaccard(a, b):
        intersection = float(len(set(a) & set(b)))
        union = float(len(set(a) | set(b)))
        return intersection/union
    </code></pre>

      </li>
      <li>General Tweets with #jobs, #birthday</li>
      <li>Special chars like tabs or line brakes from the Tweet text.</li>
    </ul>

    <p>After finishing the preprocessing we had <b>179.735.774</b> usable Tweets remaining.</p>
  </div>

  <div class="section-doc">
    <h2>Clustering</h2>
    <ul>
      <li>Algorithm: <a target="_blank" href="https://de.wikipedia.org/wiki/K-Means-Algorithmus">k-means</a></li>
      <li>Three cluster per country.</li>
      <li>Maximal 10 clusters per day for the whole "world".</li>
    </ul>
  </div>

  <div class="section-doc">
    <h2>Visualization</h2>
    <h3>Backend</h3>
    <p>Data is stored in a MySql Database and accessed through a PHP wrapper with post requests.</p>

    <h3>Frontend</h3>
    <p>Technologies used for the user interface:
        <ul>
            <li><a href="https://jquery.com/">jQuery</a></li>
            <li><a href="https://developers.google.com/maps/?hl=de">Google Maps API</a></li>
            <li><a href="https://d3js.org/">D3</a></li>
            <li><a href="http://geojson.org/">GeoJson</a></li>
            <li><a href="https://dbushell.github.io/Pikaday/">Pikaday</a></li>
        </ul>
      The interface consists out of an interactive GoogleMap, a datepicker as well as controls to select the cluster algorithm.
      A custom <a href="https://developers.google.com/maps/documentation/javascript/customoverlays">OverlayView</a> containing geographic data is added to the Google Map.
      Users can select a combination of a country and a day they want to explore.
      Country borders, encoded in GeoJSON data, are rendered as SVG paths into the GoogleMaps overlay and can be selected through clicking on them.
      After selecting country and date, the top three clusters for this period of time are getting displayed on the left side of the screen.
      All the tweets belonging to the selected cluster get mapped onto the overlay as well. On mouseover events the textual content of the tweet gets displayed as a custom tooltip.


    </p>

    <img style="width: 75%" src="img/visualization.png">

  </div>

  <div class="section-doc">
    <h2>Future Work</h2>
    <ul>
      <li>Support of different languages.</li>
      <li>Life changing of cluster parameters.</li>
    </ul>

  </div>

</div>


<footer  class="footer" style="position: relative;">
  <div class="container">
    <p class="text-muted">@LMU 2016. Jennifer Ling, Michael Prummer, Sandra Zollner</p>
  </div>
</footer>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="dist/js/bootstrap.min.js"></script>
<link href="js/prism.js" rel="stylesheet">
<link href="prism.css" rel="stylesheet">
</body>
</html>